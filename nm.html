<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>IBM-NJ File Upload Manager</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f2f5;
    padding: 50px;
    text-align: center;
  }
  .upload-container {
    background: white;
    padding: 40px;
    border-radius: 10px;
    max-width: 450px;
    margin: auto;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  }
  h2 {
    color: #0052cc;
    margin-bottom: 20px;
  }
  input[type="file"] {
    margin: 20px 0;
    font-size: 16px;
  }
  button {
    background: #0052cc;
    border: none;
    color: white;
    padding: 12px 28px;
    font-size: 18px;
    border-radius: 6px;
    cursor: pointer;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background: #003d99;
  }
  .message {
    margin-top: 25px;
    font-weight: bold;
  }
  .error {
    color: #cc0000;
  }
  .success {
    color: #008000;
  }
</style>
</head>
<body>
  <div class="upload-container">
    <h2>IBM-NJ File Upload Manager</h2>
    <form id="uploadForm">
      <input type="file" id="fileInput" required />
      <br />
      <button type="submit">Upload File</button>
    </form>
    <div class="message" id="message"></div>
  </div>

  <script>
    const uploadForm = document.getElementById('uploadForm');
    const fileInput = document.getElementById('fileInput');
    const messageDiv = document.getElementById('message');

    uploadForm.addEventListener('submit', async function(event) {
      event.preventDefault();
      messageDiv.textContent = '';
      messageDiv.className = 'message';

      if (!fileInput.files.length) {
        messageDiv.textContent = 'Please select a file to upload.';
        messageDiv.classList.add('error');
        return;
      }

      const file = fileInput.files[0];

      // Example: Limit file size to 10MB
      if (file.size > 10 * 1024 * 1024) {
        messageDiv.textContent = 'File size exceeds 10MB limit.';
        messageDiv.classList.add('error');
        return;
      }

      // Prepare form data to send to backend
      const formData = new FormData();
      formData.append('file', file);

      try {
        // Change URL to your backend upload endpoint
        const response = await fetch('/upload', {
          method: 'POST',
          body: formData,
        });

        if (!response.ok) throw new Error(`Upload failed: ${response.statusText}`);

        const text = await response.text();

        messageDiv.textContent = text || 'File uploaded successfully!';
        messageDiv.classList.add('success');
        fileInput.value = ''; // Reset file input
      } catch (error) {
        messageDiv.textContent = error.message || 'Error uploading file.';
        messageDiv.classList.add('error');
      }
    });
  </script>
</body>
</html>
